<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="CafeComment">

<insert id="insert" parameterType="CommentDto">
		INSERT INTO board_cafe_comment VALUES(#{num}, #{writer},#{content},#{target_id},
		#{ref_group} ,#{comment_group},SYSDATE)
</insert>

<select id="getSequence" resultType = "int">
	SELECT board_cafe_seq.NEXTVAL from dual
	
</select>

<select id="getList" parameterType="int" resultType="CommentDto">
	SELECT * from board_cafe_comment WHERE ref_group = #{num} ORDER BY comment_group ASC,num ASC
</select>

<update id="update" parameterType="CommentDto">
	UPDATE board_cafe_comment SET content = #{content}, regdate = SYSDATE WHERE num = #{num}
</update>


</mapper>
